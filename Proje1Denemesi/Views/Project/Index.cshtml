@model List<Project>


@{
    ViewData["Title"] = "Projelerim";
    Layout = "~/Views/AdminLayout/Layout.cshtml";
    int count = 0;
}


<table class="table table-hover table-bordered">

    <tr>
        <th>#</th>
        <th>Proje Resmi</th>
        <th>Proje Adı</th>
        <th>Proje Açıklaması</th>
        <th>GitHub Url</th>
        <th>Kategori Adı</th> 
        <th>İşlemler</th>
    </tr>


    @foreach(var item in Model)
    {
        count++;
        <tr>

            <th>@count</th>
            <td> <img src="@item.ImgUrl" style="height:auto;width:75px"  />  </td>
            <td>@item.ProjectName</td>
            <td>@item.Desciption</td>
            <td><a href="@item.GitHubUrl">GitHub Linki</a></td>
            <td>@item.Category.CategoryName</td>

            <td>
                <button onclick="deleteProject(@item.ProjectId)"  class="btn btn-outline-danger">Sil</button>
                <a href="/Project/UpdateProject/@item.ProjectId" class="btn btn-outline-primary">Güncelle</a>
            </td>




        </tr>






    }




</table>


<a href="/Project/AddProject" class="btn btn-outline-success">Yeni Proje Ekle</a>



<script>

    function deleteProject(id){
    Swal.fire({
      title: "Silmek istediğinize emin misiniz?",
      text: "Bu işlemi geri alamazsınız!",
      icon: "warning",
      showCancelButton: true,
      confirmButtonColor: "#3085d6",
      cancelButtonColor: "#d33",
      confirmButtonText: "Evet, Sil!",
      cancelButtonText: "İptal"
    }).then((result) => {
      if (result.isConfirmed) {
        Swal.fire({
                title: "Silindi!",
                text: "İstenilen veri silindi.",
                icon: "success",
                timer: 1500, // 1.5 saniye sonra kapanır
                showConfirmButton: false
            }).then(() => {
                window.location.href = "/Project/DeleteProject/" + id;
            });
      }
    });
    }


  


</script>



