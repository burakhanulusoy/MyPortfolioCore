@model List<Project>


@{
    ViewData["Title"] = "Projelerim";
    Layout = "~/Views/AdminLayout/Layout.cshtml";
    int count = 0;
}


<div class="container my-4">
    <h3 class="mb-3">Projelerim</h3>
    <div class="table-responsive">
        <table class="table table-hover table-bordered align-middle text-center shadow-sm">
            <thead class="table-dark">
                <tr>
                    <th>#</th>
                    <th>Proje Resmi</th>
                    <th>Proje Adı</th>
                    <th>Proje Açıklaması</th>
                    <th>GitHub Url</th>
                    <th>Kategori</th>
                    <th>İşlemler</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    count++;
                    <tr class="align-middle">
                        <th>@count</th>
                        <td>
                            <img src="@item.ImgUrl" class="img-thumbnail" style="height:100px; width:auto;" />
                        </td>
                        <td class="fw-bold">@item.ProjectName</td>
                        <td style="max-width:300px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;" title="@item.Desciption">@item.Desciption</td>
                        <td>
                            <a href="@item.GitHubUrl" target="_blank" class="text-decoration-none">
                                <i class="bi bi-github me-1"></i>GitHub
                            </a>
                        </td>
                        <td>@item.Category.CategoryName</td>
                        <td>
                            <button onclick="deleteProject(@item.ProjectId)" class="btn btn-outline-danger btn-sm mb-1">
                                <i class="bi bi-trash"></i> Sil
                            </button>
                            <a href="/Project/UpdateProject/@item.ProjectId" class="btn btn-outline-primary btn-sm mb-1">
                                <i class="bi bi-pencil-square"></i> Güncelle
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <div class="text-center mt-3">
        <a href="/Project/AddProject" class="btn btn-success btn-lg">
            <i class="bi bi-plus-circle"></i> Yeni Proje Ekle
        </a>
    </div>
</div>

<script>

    function deleteProject(id){
    Swal.fire({
      title: "Silmek istediğinize emin misiniz?",
      text: "Bu işlemi geri alamazsınız!",
      icon: "warning",
      showCancelButton: true,
      confirmButtonColor: "#3085d6",
      cancelButtonColor: "#d33",
      confirmButtonText: "Evet, Sil!",
      cancelButtonText: "İptal"
    }).then((result) => {
      if (result.isConfirmed) {
        Swal.fire({
                title: "Silindi!",
                text: "İstenilen veri silindi.",
                icon: "success",
                timer: 1500, // 1.5 saniye sonra kapanır
                showConfirmButton: false
            }).then(() => {
                window.location.href = "/Project/DeleteProject/" + id;
            });
      }
    });
    }


  


</script>



