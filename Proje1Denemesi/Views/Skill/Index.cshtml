@model List<Skill>


@{
    ViewData["Title"] = "Yeteneklerim";
    Layout = "~/Views/AdminLayout/Layout.cshtml";
}

<div class="row">
    @foreach (var skill in Model)
    {
        <div class="col-lg-6 mb-4">
            <div class="card shadow-sm p-3">
                <h5 class="mb-2">@skill.Title <span class="float-end">@skill.Value%</span></h5>

                <div class="progress" style="height: 20px;">
                    <div class="progress-bar bg-primary" role="progressbar"
                         data-value="@skill.Value"
                         style="width:0%"
                         aria-valuemin="0" aria-valuemax="100">
                    </div>
                </div>

                <div class="mt-3 d-flex justify-content-between">
                    <button onclick="deleteSk(@skill.SkillId)" class="btn btn-outline-danger btn-sm">Sil</button>
                    <a href="/Skill/UpdateSkill/@skill.SkillId" class="btn btn-outline-primary btn-sm">Güncelle</a>
                </div>
            </div>
        </div>
    }
</div>





<a href="/Skill/AddSkill" class="btn btn-outline-success">Yeni Yetenek Ekle</a>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const progressBars = document.querySelectorAll('.progress-bar');

        progressBars.forEach(bar => {
            const value = bar.getAttribute('data-value');
            bar.style.width = "0%";
            setTimeout(() => {
                bar.style.transition = "width 1.5s ease-in-out";
                bar.style.width = value + "%";
            }, 200);
        });
    });
</script>


<script>

    function deleteSk(id){
    Swal.fire({
      title: "Silmek istediğinize emin misiniz?",
      text: "Bu işlemi geri alamazsınız!",
      icon: "warning",
      showCancelButton: true,
      confirmButtonColor: "#3085d6",
      cancelButtonColor: "#d33",
      confirmButtonText: "Evet, Sil!",
      cancelButtonText: "İptal"
    }).then((result) => {
      if (result.isConfirmed) {
        Swal.fire({
                title: "Silindi!",
                text: "İstenilen veri silindi.",
                icon: "success",
                timer: 1500, // 1.5 saniye sonra kapanır
                showConfirmButton: false
            }).then(() => {
                window.location.href = "/Skill/DeleteSkill/" + id;
            });
      }
    });
    }





</script>

